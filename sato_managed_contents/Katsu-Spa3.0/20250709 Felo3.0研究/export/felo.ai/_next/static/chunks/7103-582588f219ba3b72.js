"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7103],{52766:function(e,s,i){i.d(s,{Z:function(){return I}});var l=i(52676),a=i(43378),t=i(86811),r=i(75271),n=i(14386),o=i(7717),c=i(44342),d=i(60161),u=i(70017),x=i(77844),m=i(65819),p=i(69082),h=i(4590),v=i(31063),f=i(96164),j=i(26595),g=i(8924),_=i(19073);let F=e=>{var s,i,a,t;let F=(0,m.ZP)(e=>e.isLogin),{topic_id:N,is_self_topic:b,shareTopicStatus:w,setTopicStatus:E,showTopicModel:y,topicDetail:C,setShareStep:T,updateTopicDetail:A,shareStep:S}=(0,p.Z)(),k=(0,u.V)(),[D,I]=(0,r.useState)(!1),{isApp:R}=(0,c.b)(),L=(0,m.gQ)(),P=(0,m.ZP)(e=>e.userInfo),Z=null==P?void 0:null===(i=P.user_org_member)||void 0===i?void 0:null===(s=i.org_settings)||void 0===s?void 0:s.share_permission_config.space_content_share,O=(0,o.useTranslations)(),B=(0,r.useMemo)(()=>{var e,s,i;let l=null!==(i=null==C?void 0:null===(s=C.permission)||void 0===s?void 0:null===(e=s.access_emails)||void 0===e?void 0:e.length)&&void 0!==i?i:0;return console.log("\uD83D\uDE80 ~ countPeople ~ count:",l),l>0?l:""},[null==C?void 0:null===(a=C.permission)||void 0===a?void 0:a.access_emails]),z=(0,r.useMemo)(()=>{var e,s,i;let l=null!==(i=null==C?void 0:null===(s=C.permission)||void 0===s?void 0:null===(e=s.access_emails)||void 0===e?void 0:e.length)&&void 0!==i?i:0;return"PRIVATE"!==w||b&&l>0},[null==C?void 0:null===(t=C.permission)||void 0===t?void 0:t.access_emails,w,b]);(0,r.useEffect)(()=>{y&&V()},[y]);let U=e=>{(0,h.eW)(e,"".concat(O("shareTip"),": ").concat(document.title,"\n").concat(window.location.href)),"whatsapp"===e?(0,v.fk)(d.U.TOPIC_SHARE_SHARE_WHATSAPP,{id:N},!0):"twitter"===e?(0,v.fk)(d.U.TOPIC_SHARE_SHARE_X,{id:N},!0):"facebook"===e?(0,v.fk)(d.U.TOPIC_SHARE_SHARE_FACEBOOK,{id:N},!0):"line"===e&&(0,v.fk)(d.U.TOPIC_SHARE_SHARE_LINE,{id:N},!0)},M=e=>{b&&(E(e),A({read_permission:e}))},V=()=>{I(!0);let e=x.Z.getState().current,s=new URL("".concat(location.origin,"/topic/").concat(N));e&&s.searchParams.append("invite",e),k.copy(s.toString()),(0,v.fk)(d.U.TOPIC_SHARE_SHARE_COPYLINK,{id:N},!0),setTimeout(()=>{I(!1)},3e3)},H=e=>{var s;e.preventDefault(),e.stopPropagation(),(null==C?void 0:null===(s=C.permission)||void 0===s?void 0:s.read_permission)!=="PRIVATE"&&M("PRIVATE"),T(2),A({read_permission:"PUBLIC"})};return(0,l.jsxs)(l.Fragment,{children:[b&&F&&(0,l.jsx)("div",{className:"w-full cursor-pointer border rounded-[12px] p-[8px] [padding-left:24px] [padding-right:24px] box-border mb-[16px] ".concat("PRIVATE"===w?"border-[#0080FF]":"border-[#E4E7EC]"),onClick:()=>M("PRIVATE"),children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-[16px]",children:[(0,l.jsx)("div",{className:"w-[32px] text-[#475467] dark:text-white",children:(0,l.jsx)(n.aL,{})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-[16px] font-bold text-[#344054] dark:text-white",children:O("shareThread.secret")}),(0,l.jsxs)("div",{className:"text-[12px] text-[#98A2B3] flex items-center",style:{lineHeight:"18px"},children:[O.rich("share.onlyAuthorCanView",{link:e=>(0,l.jsx)("a",{href:"javascript:void(0)",className:"text-primary underline",onClick:H,children:e}),count:B}),(0,l.jsx)(g.Z,{className:"w-4"})]})]})]}),(0,l.jsx)("div",{children:"PRIVATE"===w&&(0,l.jsx)(n.gw,{})})]})}),L&&(0,l.jsx)("div",{className:"w-full cursor-pointer border rounded-[12px] p-[8px] [padding-left:24px] [padding-right:24px] mb-[16px] box-border ".concat("PARTIAL_PUBLIC"===w?"border-[#0080FF]":"border-[#E4E7EC]"),onClick:()=>M("PARTIAL_PUBLIC"),style:{opacity:b?1:.3,cursor:b?"pointer":"not-allowed"},children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-[16px]",children:[(0,l.jsx)("div",{className:"w-[32px] text-[#475467] dark:text-white",children:(0,l.jsx)(_.Z,{size:28})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-[16px] font-bold text-[#344054] dark:text-white",children:O("shareThread.enterprise_title")}),(0,l.jsx)("div",{className:"text-[12px] text-[#98A2B3] ",style:{lineHeight:"18px"},children:O("shareThread.enterprise_desc")})]})]}),(0,l.jsx)("div",{children:"PARTIAL_PUBLIC"===w&&(0,l.jsx)(n.gw,{})})]})}),(F&&b&&!L||F&&L&&Z||"PUBLIC"===w)&&(0,l.jsx)("div",{className:"w-full cursor-pointer border rounded-[12px] p-[8px] [padding-left:24px] [padding-right:24px] box-border ".concat("PUBLIC"===w?"border-[#0080FF]":"border-[#E4E7EC]"),onClick:()=>M("PUBLIC"),style:{opacity:b?1:.3,cursor:b?"pointer":"not-allowed"},children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-[16px]",children:[(0,l.jsx)("div",{className:"w-[32px] text-[#475467] dark:text-white",children:(0,l.jsx)(n.u_,{})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-[16px] font-bold text-[#344054] dark:text-white",children:O("shareThread.shareable")}),(0,l.jsx)("div",{className:"text-[12px] text-[#98A2B3] ",style:{lineHeight:"18px"},children:O("shareThread.anyoneWithLinkCanView")})]})]}),(0,l.jsx)("div",{children:"PUBLIC"===w&&(0,l.jsx)(n.gw,{})})]})}),z&&(0,l.jsxs)(l.Fragment,{children:[!R&&(0,l.jsxs)("div",{className:"flex items-center justify-between w-full mt-8  mx-2 shareSites",children:[(0,l.jsxs)("div",{onClick:()=>U("line"),className:"cursor-pointer flex flex-col items-center gap-2",children:[(0,l.jsx)("img",{className:"w-[48px]",src:"/shareThreadImg/line.png",alt:""}),(0,l.jsx)("div",{className:"text-[12px] text-[#98A2B3] dark:text-white",children:"LINE"})]}),(0,l.jsxs)("div",{onClick:()=>U("twitter"),className:"cursor-pointer flex flex-col items-center gap-2",children:[(0,l.jsx)("img",{className:"w-[48px]",src:"/shareThreadImg/twiterlogo.png",alt:""}),(0,l.jsx)("div",{className:"text-[12px] text-[#98A2B3] dark:text-white",children:"X/Twitter"})]}),(0,l.jsxs)("div",{onClick:()=>U("facebook"),className:"cursor-pointer flex flex-col items-center gap-2",children:[(0,l.jsx)("img",{className:"w-[48px]",src:"/shareThreadImg/fblogo.png",alt:""}),(0,l.jsx)("div",{className:"text-[12px] text-[#98A2B3] dark:text-white",children:"Facebook"})]}),(0,l.jsxs)("div",{onClick:()=>U("whatsapp"),className:"cursor-pointer flex flex-col items-center gap-2",children:[(0,l.jsx)("img",{className:"w-[48px]",src:"/shareThreadImg/whatsapp.png",alt:""}),(0,l.jsx)("div",{className:"text-[12px] text-[#98A2B3] dark:text-white",children:"WhatsApp"})]})]}),(null==e?void 0:e.loading)?null:(0,l.jsx)("div",{className:"w-full pb-6",children:(0,l.jsx)(f.e,{isOpen:D,content:(0,l.jsx)("div",{className:"p-2 bg-black bg-opacity-70 text-white rounded-lg dark:bg-white dark:text-black",children:O("shareThread.copySuccess")}),classNames:{content:["p-0"]},children:(0,l.jsx)(j.A,{className:"w-full h-[48px] rounded-[12px] text-[14px] mt-8",color:"primary",onClick:V,disabled:D,children:O("shareThread.copyLink")})})})]})]})};i(20061);var N=i(89335),b=i(30674),w=i(77249),E=i(25773),y=i(27151),C=i(5588),T=i(25010),A=i(39109),S=i(3574),k=()=>{var e,s,i,t,n,c,d,u;let x=(0,o.useTranslations)(),h=(0,A.Z)(),v=(0,m.gQ)(),{setShareStep:f,topicDetail:j,updateTopicDetail:g}=(0,p.Z)(),[_,F]=(0,r.useState)(""),[b,k]=(0,r.useState)(!1),[D,I]=(0,r.useState)(),R=async e=>{var s,i,l,a,t;let{type:r,email:n}=e;if(null==j?void 0:null===(s=j.permission)||void 0===s?void 0:s.is_self){let e=[];if("add"===r){if((null==(e=(0,S.O)(_)||[])?void 0:e.some(e=>!(0,S.v)(e)))||!(null==e?void 0:e.length)){h.error(x("share.email_incorrect_tip"));return}if((null==e?void 0:e.length)>200){h.error(x("share.exceeding_quantity_limit_tip",{count:200}));return}}k(!0),I({type:r,email:n});let s=(null==j?void 0:null===(l=j.permission)||void 0===l?void 0:null===(i=l.access_emails)||void 0===i?void 0:i.length)?null==j?void 0:null===(a=j.permission)||void 0===a?void 0:a.access_emails:[],o=JSON.parse(JSON.stringify(s)),c="remove"===r?s.filter(e=>e!==n):[...e,...s];g({access_emails:c=[...new Set(c)],fail_emails:[]});let d=await (0,N.n2)({read_permission:"PRIVATE",topic_id:j.short_id,access_emails:c}),u=null==d?void 0:d.data;if(console.log("\uD83D\uDE80 ~ updateShare ~ result:",u),k(!1),u){if((null==d?void 0:d.status)!==200){let e=(null==d?void 0:d.code)==="ACCESS_EMAIL_OVER_LIMIT"?x("share.exceeding_quantity_limit_tip",{count:200}):x("server.INTERNAL_SERVER_ERROR");h.error(e),g({access_emails:o,fail_emails:[]}),F("");return}(null==u?void 0:null===(t=u.fail_emails)||void 0===t?void 0:t.length)?v&&h.error(x("share.not_add_outside_org")):h.success("remove"===r?x("share.remove_success_tip"):x("share.add_success_tip")),g({access_emails:(null==u?void 0:u.access_emails)||c,fail_emails:(null==u?void 0:u.fail_emails)||[]}),F("")}else h.default(x("server.INTERNAL_SERVER_ERROR")),g({access_emails:o,fail_emails:[]})}};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.fK,{className:"flex justify-between items-center pb-3 border-b border-[#E4E7EC] md:dark:border-gray-500 dark:border-transparent ",children:(0,l.jsxs)(a.$N,{className:"flex items-center gap-2 text-lg w-full",children:[(0,l.jsx)("div",{className:"cursor-pointer",onClick:()=>{f(1)},children:(0,l.jsx)(w.Z,{})}),x("share.person_visible")]})}),(0,l.jsx)("div",{className:"flex flex-col items-center w-full box-border shareContainer dark:border-[#2F333B]",children:(0,l.jsxs)("div",{className:"p-6 w-full",children:[(0,l.jsxs)("div",{className:"flex w-full max-w-sm items-center space-x-2",children:[(0,l.jsx)(C.I,{value:_,onChange:e=>{F(e.target.value)},type:"email",placeholder:x("share.add_email_placeholder"),className:"focus-visible:ring-0 focus-visible:ring-offset-0 h-8 text-xs",autoComplete:"off"}),(0,l.jsx)(T.z,{type:"submit",size:"default",className:"text-xs",onClick:()=>{R({type:"add"})},disabled:b||!_,children:b&&(null==D?void 0:D.type)==="add"?(0,l.jsx)(E.Z,{className:"animate-spin"}):x("share.add_email")})]}),(0,l.jsx)("div",{className:"mt-4 text-sm text-gray-700 -mx-3 dark:text-gray-400",children:(0,l.jsx)("ul",{className:"flex flex-col max-h-80 min-h-40 gap-3 overflow-hidden overflow-y-auto felo--scrollbar px-3",children:(null==j?void 0:null===(s=j.permission)||void 0===s?void 0:null===(e=s.access_emails)||void 0===e?void 0:e.length)||(null==j?void 0:null===(t=j.permission)||void 0===t?void 0:null===(i=t.fail_emails)||void 0===i?void 0:i.length)?(0,l.jsxs)(l.Fragment,{children:[null==j?void 0:null===(c=j.permission)||void 0===c?void 0:null===(n=c.fail_emails)||void 0===n?void 0:n.map((e,s)=>(0,l.jsxs)("li",{className:"flex w-full justify-between",children:[e,(0,l.jsx)(T.z,{variant:"ghost",size:"sm",className:"text-sm font-normal h-4 px-1 text-red-500",disabled:!0,children:x("share.add_email_failure")})]},s)),null==j?void 0:null===(u=j.permission)||void 0===u?void 0:null===(d=u.access_emails)||void 0===d?void 0:d.map((e,s)=>(0,l.jsxs)("li",{className:"flex w-full justify-between",children:[e,(0,l.jsx)(T.z,{variant:"link",size:"sm",className:"text-sm font-normal h-4 px-1",onClick:()=>{R({type:"remove",email:e})},disabled:b,children:b&&(null==D?void 0:D.type)==="remove"&&(null==D?void 0:D.email)===e?(0,l.jsx)(E.Z,{className:"animate-spin"}):x("share.remove_email")})]},s))]}):(0,l.jsxs)("div",{className:"flex flex-col items-center min-h-40 justify-center text-base",children:[(0,l.jsx)("span",{className:"flex justify-center items-center w-16 h-16 rounded-full bg-[#EBEEF3] text-[#7F94B1] dark:bg-[#606B80]",children:(0,l.jsx)(y.Z,{size:30})}),(0,l.jsx)("p",{className:"pt-4 text-[#ABB9CD]",children:x("share.no_person_visible")})]})})})]})})]})},D=i(4814),I=()=>{let{showTopicModel:e,setShowTopicModel:s,setTopicStatus:i,shareTopicStatus:d,topic_id:u,topicDetail:x,is_self_topic:h,setTopicDetail:v,setIsSelfTopic:f,shareStep:j,setShareStep:g,setIsChange:_}=(0,p.Z)(),{isMobile:w}=(0,c.b)(),E=(0,o.useTranslations)(),y=(0,m.gQ)(),[C,T]=(0,r.useState)(),[A,S]=(0,r.useState)(!1);(0,r.useEffect)(()=>{e&&(I(),g(1))},[e]);let I=async()=>{S(!0);try{let a=await (0,N.Rh)(u);if(a){var e,s,l;let t=(null==a?void 0:null===(e=a.permission)||void 0===e?void 0:e.access_emails)||[];v(a),f(a.permission.is_self),i(a.permission.read_permission,!1);let r=null==a?void 0:null===(s=a.permission)||void 0===s?void 0:s.is_self,n=null==a?void 0:null===(l=a.permission)||void 0===l?void 0:l.is_change;_(n),r&&(null==t?void 0:t.length)<=0&&!n&&(y?i("PARTIAL_PUBLIC"):i("PUBLIC"))}S(!1)}catch(e){S(!1)}};return w?(0,l.jsx)(t.yo,{open:e,onOpenChange:s,children:(0,l.jsxs)(t.ue,{side:"bottom",className:"p-0",children:[(0,l.jsxs)("div",{className:(0,D.Z)(1===j?"":"hidden"),children:[(0,l.jsx)(t.Tu,{className:"p-6 flex justify-between items-center",children:(0,l.jsx)(t.bC,{className:"text-2xl",children:E("shareTopic.shareTopic")})}),(0,l.jsx)("div",{className:"py-6 px-6",children:A?(0,l.jsxs)("div",{className:"flex justify-center items-center ",children:[" ",(0,l.jsx)(b.c,{})," "]}):(0,l.jsx)(F,{loading:A})})]}),(0,l.jsx)("div",{className:(0,D.Z)(2===j?"":"hidden"),children:(0,l.jsx)(k,{})})]})}):(0,l.jsx)(a.Vq,{open:e,onOpenChange:s,children:(0,l.jsxs)(a.cZ,{className:"max-w-[396px] dark:bg-[#454E5D]","aria-describedby":void 0,children:[(0,l.jsxs)("div",{className:(0,D.Z)(1===j?"":"hidden"),children:[(0,l.jsx)(a.fK,{className:"flex justify-between items-center pb-0",children:(0,l.jsxs)(a.$N,{className:"flex items-center gap-2 text-lg w-full",children:[(0,l.jsx)("div",{className:"w-5",children:(0,l.jsx)(n.u_,{})}),E("shareTopic.shareTopic")]})}),(0,l.jsxs)("div",{className:"flex flex-col items-center w-full box-border shareContainer dark:border-[#2F333B]",style:{minHeight:h?"480px":"auto"},children:[(0,l.jsx)("div",{className:"text-[20px] mt-8 font-bold mb-6 text-[#475467] overflow-hidden overflow-ellipsis line-clamp-2 dark:text-white",style:{wordBreak:"keep-all",lineHeight:"28px",height:"56px",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:2,overflow:"hidden",textOverflow:"ellipsis",overflowWrap:"anywhere"},children:(null==x?void 0:x.name)||""}),(0,l.jsxs)("div",{className:"px-6 w-full",children:[" ",A?(0,l.jsxs)("div",{className:"flex justify-center items-center ",children:[" ",(0,l.jsx)(b.c,{})," "]}):null,(0,l.jsx)("div",{className:(0,D.Z)(A?"hidden":""),children:(0,l.jsx)(F,{loading:A})})]})]})]}),(0,l.jsx)("div",{className:(0,D.Z)(2===j?"":"hidden"),children:(0,l.jsx)(k,{})})]})})}},80194:function(e,s,i){var l=i(52676),a=i(25010),t=i(43378),r=i(7717),n=i(60904),o=i(25773),c=i(75271);s.Z=e=>{let{isOpen:s,title:i,desc:d,onOpenChange:u,onCancel:x,onSubmit:m,isHideClose:p=!0,cancelText:h,submitText:v,submitBtnVariant:f}=e,j=(0,r.useTranslations)(),[g,_]=(0,c.useState)(!1);return(0,l.jsx)(t.Vq,{open:s,onOpenChange:u,children:(0,l.jsxs)(t.cZ,{hideCloseButton:!0,className:"sm:max-w-[460px] p-2 rounded-lg mx-2 w-auto min-w-[300px]","aria-describedby":void 0,children:[(0,l.jsx)(t.fK,{children:(0,l.jsx)(t.$N,{children:i})}),(0,l.jsxs)(t.a7,{className:"relative",children:[p?null:(0,l.jsx)("div",{className:"absolute -top-14 right-1 z-20",children:(0,l.jsx)(t.GG,{className:"rounded-full p-1  outline-none text-gray-500",onClick:x,children:(0,l.jsx)(n.Z,{size:22})})}),d]}),(0,l.jsxs)(t.cN,{className:"gap-4",children:[(0,l.jsx)(a.z,{variant:"outline",onClick:x,children:h||j("enterprise.cancel")}),(0,l.jsxs)(a.z,{type:"submit",variant:f||"default",onClick:async()=>{_(!0),await m(),_(!1)},disabled:g,children:[g&&(0,l.jsx)(o.Z,{className:"animate-spin"}),v||j("topic.confirm_btn_text")]})]})]})})}},72153:function(e,s,i){var l=i(52676),a=i(75271),t=i(48958),r=i(26595),n=i(38793),o=i(57207),c=i(43378),d=i(12266),u=i(53986),x=i(15699),m=i(7717),p=i(17436),h=i(31063),v=i(89335),f=i(60161),j=i(59167),g=i(97571),_=i(65819),F=i(4814);s.Z=e=>{var s,i,N;let{mode:b="create",topic:w,isOpen:E,parentPage:y,onClose:C,onCreateSuccess:T,onEditSuccess:A}=e,S=(0,m.useTranslations)(),{isDark:k}=(0,g.Z)(),{getList:D}=(0,p.Z)(),I=(0,_.gQ)(),R=(0,_.c0)(),L=(0,_.ZP)(e=>e.userInfo),[P,Z]=(0,a.useState)(""),[O,B]=(0,a.useState)(""),[z,U]=(0,a.useState)(""),[M,V]=(0,a.useState)(""),[H,K]=(0,a.useState)(!1),[$,W]=(0,a.useState)(null),[Y,q]=(0,a.useState)(!1),[G,Q]=(0,a.useState)(!1);(0,a.useEffect)(()=>{if("edit"===b&&w){var e;Z(w.name),U(w.description||""),V(w.instruction||""),B(w.icon||""),q(!!(null==w?void 0:null===(e=w.org_sharing)||void 0===e?void 0:e.org_id))}},[b,w]);let J=(0,a.useMemo)(()=>{var e,s,i;return R&&(null==L?void 0:null===(i=L.user_org_member)||void 0===i?void 0:null===(s=i.org_settings)||void 0===s?void 0:null===(e=s.share_permission_config)||void 0===e?void 0:e.space_content_add_role.includes(R))},[R,null==L?void 0:null===(N=L.user_org_member)||void 0===N?void 0:null===(i=N.org_settings)||void 0===i?void 0:null===(s=i.share_permission_config)||void 0===s?void 0:s.space_content_add_role]),X=async()=>{if(!P.trim()){W(S("topic.title_empty"));return}K(!0),W(null);let e={topicId:"",name:P.trim(),description:z.trim(),instruction:M.trim(),icon:O,isSharedEnterprise:Y};try{let l;if("create"===b)l=await (0,v.HV)(e),Y&&(null==l?void 0:l.short_id)&&await (0,v.hS)({topic_short_id:null==l?void 0:l.short_id});else{var s,i;e.topicId=w.short_id||"",(l=await (0,v.Cn)(e)).isMove=!1,(null==e?void 0:e.isSharedEnterprise)?(null==w?void 0:null===(s=w.org_sharing)||void 0===s?void 0:s.org_id)||(await (0,v.hS)({topic_short_id:null==e?void 0:e.topicId}),l&&(l.org_sharing={org_id:"x"},l.isMove=!0)):(null==w?void 0:null===(i=w.org_sharing)||void 0===i?void 0:i.org_id)&&(await (0,v.au)({topic_short_id:null==e?void 0:e.topicId}),delete l.org_sharing,l.isMove=!0)}l?("create"===b?(null==T||T(l),Z(""),U(""),V("")):null==A||A(l),C()):W(S("create"===b?"topic.failed_create":"topic.failed_update"))}catch(e){W(S("topic.error_theme"))}finally{K(!1),(0,h.fk)("create"===b?f.U.COLLECTION_CREATE:f.U.COLLECTION_UPDATE,e,!0)}};return(0,l.jsx)(c.Vq,{open:E,onOpenChange:C,children:(0,l.jsxs)(c.cZ,{className:"dark:bg-[#454E5D]","aria-describedby":void 0,children:[(0,l.jsx)(c.fK,{children:(0,l.jsx)(c.$N,{children:"create"===b?S("topic.create_theme"):S("topic.edit_theme")})}),(0,l.jsxs)(c.a7,{children:[(0,l.jsxs)("div",{className:"flex gap-4",children:[(0,l.jsx)(t.Y,{label:S("topic.title"),labelPlacement:"outside",placeholder:S("topic.title_placeholder"),value:P,onChange:e=>Z(e.target.value),maxLength:50,isInvalid:!!$,errorMessage:$,endContent:(0,l.jsxs)("p",{className:"text-sm text-default-400",children:[null==P?void 0:P.length,"/50"]})}),(0,l.jsxs)("div",{className:"flex-none flex flex-col gap-2",children:[(0,l.jsx)("label",{className:"text-xs",htmlFor:"emoji",children:S("topic.emoji")}),(0,l.jsxs)(o.J2,{modal:!0,open:G,onOpenChange:Q,children:[(0,l.jsx)(o.xo,{asChild:!0,children:(0,l.jsx)(r.A,{className:"border-dotted border-2 border-default-200",variant:"light",radius:"full",isIconOnly:!0,children:O?(0,l.jsx)("span",{className:"text-2xl",children:O}):(0,l.jsx)(j.Z,{size:16})})}),(0,l.jsx)(o.yk,{onOpenAutoFocus:e=>e.preventDefault(),align:"end",className:"p-0 w-[350px] box-content dark:bg-[#454E5D]",children:(0,l.jsx)(d.ZP,{className:"!border-none",theme:k?d.Q2.DARK:d.Q2.LIGHT,emojiStyle:d.Ye.NATIVE,onEmojiClick:(e,s)=>{B(e.emoji),Q(!1)},searchPlaceholder:S("emoji.searchPlaceholder"),categories:[{name:S("emoji.categories.suggested"),category:d.Rj.SUGGESTED},{name:S("emoji.categories.custom"),category:d.Rj.CUSTOM},{name:S("emoji.categories.smileys"),category:d.Rj.SMILEYS_PEOPLE},{name:S("emoji.categories.animals"),category:d.Rj.ANIMALS_NATURE},{name:S("emoji.categories.foods"),category:d.Rj.FOOD_DRINK},{name:S("emoji.categories.travel"),category:d.Rj.TRAVEL_PLACES},{name:S("emoji.categories.activities"),category:d.Rj.ACTIVITIES},{name:S("emoji.categories.objects"),category:d.Rj.OBJECTS},{name:S("emoji.categories.symbols"),category:d.Rj.SYMBOLS},{name:S("emoji.categories.flags"),category:d.Rj.FLAGS}]})})]})]})]}),(0,l.jsx)(n.Y,{label:S("topic.description"),labelPlacement:"outside",value:z,placeholder:S("topic.description_placeholder"),onChange:e=>U(e.target.value),className:"mt-4",maxLength:100}),(0,l.jsx)(n.Y,{label:(0,l.jsxs)("div",{className:"flex flex-col gap-1 mb-1",children:[(0,l.jsx)("p",{children:S("topic.custom_prompt")}),(0,l.jsx)("p",{className:"text-sm text-default-400 dark:text-[#B9BFCA]",children:S("topic.custom_prompt_desc")})]}),labelPlacement:"outside",value:M,placeholder:S("topic.custom_prompt_placeholder"),onChange:e=>V(e.target.value),className:"mt-4",maxLength:4e3})]}),(0,l.jsxs)(c.cN,{className:"flex-col md:flex-row justify-between md:justify-between sm:justify-between items-center pt-2",children:[I?(0,l.jsx)(x.E,{value:Y?"saveToEnterprise":"",className:(0,F.Z)("mb-2 md:mb-0 ",J?"":"pointer-events-none opacity-45"),children:(0,l.jsxs)("div",{className:"flex items-center space-x-1 cursor-pointer",onClick:e=>{e.preventDefault(),e.stopPropagation(),q(!Y)},children:[(0,l.jsx)(x.m,{value:"saveToEnterprise",id:"saveToEnterprise",className:"border-gray-300",disabled:!J}),(0,l.jsx)(u._,{htmlFor:"saveToEnterprise",className:"cursor-pointer font-normal",children:S("topic.save_to_enterprise_share")})]})}):null,(0,l.jsx)(r.A,{color:"primary",onPress:X,className:"ml-auto",isLoading:H,isDisabled:H||!(null==P?void 0:P.trim()),children:H?S("create"===b?"topic.creating":"topic.updating"):S("create"===b?"topic.create":"confirm")})]})]})})}},53986:function(e,s,i){i.d(s,{_:function(){return c}});var l=i(52676),a=i(75271),t=i(20280),r=i(2808),n=i(37481);let o=(0,r.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef((e,s)=>{let{className:i,...a}=e;return(0,l.jsx)(t.f,{ref:s,className:(0,n.cn)(o(),i),...a})});c.displayName=t.f.displayName},15699:function(e,s,i){i.d(s,{E:function(){return o},m:function(){return c}});var l=i(52676),a=i(75271),t=i(82788),r=i(68752),n=i(37481);let o=a.forwardRef((e,s)=>{let{className:i,...a}=e;return(0,l.jsx)(t.fC,{className:(0,n.cn)("grid gap-2",i),...a,ref:s})});o.displayName=t.fC.displayName;let c=a.forwardRef((e,s)=>{let{className:i,...a}=e;return(0,l.jsx)(t.ck,{ref:s,className:(0,n.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",i),...a,children:(0,l.jsx)(t.z$,{className:"flex items-center justify-center",children:(0,l.jsx)(r.Z,{className:"h-2.5 w-2.5 fill-current text-current"})})})});c.displayName=t.ck.displayName},69082:function(e,s,i){var l=i(75910),a=i(89335);let t=(0,l.Ue)(e=>({topic_id:"",showTopicModel:!1,shareTopicStatus:"PRIVATE",is_self_topic:!1,showTopicLimitModal:!1,topicDetail:{},showLimitModalTopicData:null,isChange:!1,setIsChange:s=>e({isChange:s}),setShowLimitModalTopicData:s=>e({showLimitModalTopicData:s}),setTopicStatus:function(s){let i=!(arguments.length>1)||void 0===arguments[1]||arguments[1];e({shareTopicStatus:s}),i&&(0,a.n2)({topic_id:t.getState().topic_id,read_permission:s})},setShowTopicModel:s=>e({showTopicModel:s}),setShowTopicLimitModal:s=>e({showTopicLimitModal:s}),setSortTopicId:s=>e({topic_id:s}),setIsSelfTopic:s=>e({is_self_topic:s}),setShareTopicId:s=>e({topic_id:s}),setTopicDetail:s=>e({topicDetail:s}),shareStep:1,setShareStep:s=>e({shareStep:s}),updateTopicDetail:s=>e(e=>({topicDetail:e.topicDetail?{...e.topicDetail,permission:{...e.topicDetail.permission,...s}}:null}))}));s.Z=t},3574:function(e,s,i){i.d(s,{O:function(){return t},v:function(){return a}});let l=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,a=e=>!!e&&l.test(e.trim()),t=e=>e.match(/[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/g)}}]);