# 使用要件定義書 (ユーザ要件)

## 1. 目的
1 時間超のセミナー動画から **章・チャプター単位のダイジェスト生成** と
**無劣化動画分割** を、非エンジニアでもブラウザ操作だけで完結させる。

## 2. 対象ユーザー
- TANREN 社内の講師・マーケ担当・動画チーム
- 外部講師へも展開予定（Mac ユーザー想定）

## 3. 用語定義
| 用語 | 定義 |
|-----|-----|
| 章 (Sho) | 複数のチャプターを束ねる大テーマ。1章, 2章… |
| チャプター (Chapter) | 30–120 秒のサブテーマ。チャプター番号は 1,2,3… と連番 |
| SRT | タイムコード付き字幕ファイル。UTF-8 |
| ジェットスプリット | 本システムの自動分割機能の呼称 |

## 4. 機能要件
1. **SRT アップロード**  
2. Gemini により章・チャプター抽出  
3. ブラウザで表プレビュー  
4. **Excel / CSV ダウンロード**  
5. **Batch ZIP ダウンロード** (jet_split.sh + cuts.txt + 章チャプ一覧)  
6. jet_split.sh 実行で  
   - ファイル名 `{sho}_{chapter:03d}_{slug}.mp4` で無劣化分割  
   - 分割完了メッセージ表示

## 5. 非機能要件
| 区分 | 要件 |
|-----|-----|
| 品質 | FFmpeg `-c copy` により画質劣化ゼロ |
| 性能 | 90 分・2 GB 動画を 1 分以内で分割完了 |
| 利便性 | ブラウザ操作 3 回クリックで全工程完了 |
| セキュリティ | 動画ファイルはローカルのみで処理しサーバーへ送信しない |
| 拡張性 | 章・チャプター情報を API で再利用可能 |

## 6. 運用フロー
1. Whisper で SRT を生成 (ユーザー側)  
2. Web UI へ SRT をドロップ  
3. Excel を確認・修正があれば再アップロード（オプション）  
4. Batch ZIP を取得  
5. 新規フォルダへ動画 + ZIP 解凍 → jet_split.sh 実行  

## 7. 受入条件
- 仕様書通りのファイル名で 10 以上のチャプターが正確に切れること  
- Excel, CSV が Numbers / Excel いずれでも文字化けなく開けること  
- CLI に慣れていないユーザーでも README に従い 10 分で完了できること