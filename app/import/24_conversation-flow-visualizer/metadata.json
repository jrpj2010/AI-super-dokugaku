
{
  "description": "Generated by Gemini.",
  "prompt": "system_name: ä¼šè©±ãƒ•ãƒ­ãƒ¼ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ©ã‚¤ã‚¶ãƒ¼\nversion: 0.1\npurpose: >\n  å•†è«‡ã‚„ãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°ä¸­ã®ç™ºè©±ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã«æ§‹é€ åˆ†è§£ã—ã€\n  ãƒ–ãƒ­ãƒƒã‚¯ï¼ˆãƒãƒ¼ãƒ‰ï¼‰ã¨ä¾å­˜ç·šï¼ˆã‚¨ãƒƒã‚¸ï¼‰ã§å¯è¦–åŒ–ã€‚\n  ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã®ä¼ç·šå›åã‚„è©±æ³•ã®åˆ†å²ç‚¹ã‚’ä¸€ç›®ã§æŠŠæ¡ã—ã€\n  ãƒˆãƒ¼ã‚¯æ”¹å–„ãƒ»åˆ†æã«å½¹ç«‹ã¦ã‚‹ã€‚\n\nactors:\n  - name: ãƒ¦ãƒ¼ã‚¶ãƒ¼\n    description: ç™ºè©±ã™ã‚‹äººç‰©ã€‚å•†è«‡æ‹…å½“ãƒ»è¬›å¸«ãªã©ã€‚\n  - name: è¦³å¯Ÿè€…\n    description: å¾Œã‹ã‚‰ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ã‚’é–²è¦§ãƒ»åˆ†æã™ã‚‹äººï¼ˆä¸Šå¸ãƒ»ã‚³ãƒ¼ãƒç­‰ï¼‰ã€‚\n  - name: ã‚·ã‚¹ãƒ†ãƒ \n    description: éŸ³å£°å…¥åŠ›ã€è§£æã€ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’è¡Œã† Web ã‚¢ãƒ—ãƒªã€‚\n\nfunctional_requirements:\n  capture_audio:\n    description: ãƒ–ãƒ©ã‚¦ã‚¶ãƒã‚¤ã‚¯ã§éŸ³å£°ã‚’ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å–å¾—\n    realtime: true\n    fallback_upload: WAV/MP3\n  speech_to_text:\n    engine: WebSpeechAPI | AzureCognitiveServices | GoogleSpeechV2\n    language: ja-JP\n    latency_ms: 500\n  sentence_segmentation:\n    method: ç§‘å­¦çš„æ–‡ç¯€åˆ†å‰² + ç‹¬è‡ªãƒ«ãƒ¼ãƒ«\n    granularity: ä¸€æ–‡ or æ„å‘³å¡Š\n  dependency_analysis:\n    goals:\n      - æ™‚ç³»åˆ—ä¾å­˜ï¼ˆç›´åˆ—ç·šï¼‰\n      - ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰å†å‡ºç¾ä¾å­˜ï¼ˆç‚¹ç·šï¼‰\n      - è©±æ³•åˆ†å²ï¼ˆIF ãƒãƒ¼ãƒ‰ï¼‰\n    algorithm: TF-IDF ã‚­ãƒ¼ãƒ•ãƒ¬ãƒ¼ã‚ºæŠ½å‡º + æ–‡å­—åˆ—é¡ä¼¼åº¦ + ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹\n  graph_rendering:\n    library: ReactFlow | D3.js | PixiJS\n    zoom:\n      min: 0.1\n      max: 2.0\n      controls: plus_minus_buttons\n    pan: drag\n  ui_blocks:\n    style:\n      shape: rounded_rectangle\n      base_color: \"#2a2d31\"\n      accent_icons:\n        - \"!\"  # exclamation\n        - \"ğŸ’¡\" # light-bulb\n      tooltip_on_hover: true\n      tooltip_content: markdown_supported\n    creation_flow: >\n      æ–°ã—ã„ç™ºè©±ãŒèªè­˜ã•ã‚Œã‚‹ãŸã³å·¦å´ã«ç”Ÿæˆã—ã€å³æ–¹å‘ã¸å±•é–‹ã€‚\n  icon_annotations:\n    types:\n      - exclamation:\n          meaning: è¦æ³¨æ„ãƒ»é‡è¦ãƒã‚¤ãƒ³ãƒˆ\n      - lightbulb:\n          meaning: ã‚¢ã‚¤ãƒ‡ã‚¢ãƒ»ææ¡ˆ\n  transcript_timeline:\n    waveform_display: true\n    position: bottom_left\n  export:\n    formats: PNG | SVG | JSON (æ§‹é€ ãƒ‡ãƒ¼ã‚¿)\n    screenshot_hotkey: Ctrl+Shift+S\n  storage:\n    mode: localIndexedDB | optional_cloud_backend\n    retention_days: 30\n\nnon_functional_requirements:\n  performance:\n    target_fps: 60\n    max_nodes_1h: 600\n  scalability: single_user_realtime; future_multi_user\n  accessibility:\n    color_contrast_WCAG: AA\n    keyboard_nav: true\n  security:\n    https_only: true\n    audio_encryption: TLS\n  privacy:\n    opt_in_recording: true\n    gdpr_ready: true\n  i18n: ja_JP åŸºæœ¬ã€å°†æ¥ en_US\n\nui_spec:\n  canvas:\n    resolution: 1920x1080\n    background_color: \"#121417\"\n    accent_color: \"#3a8cff\"  # æ§ãˆã‚ãƒ–ãƒ«ãƒ¼\n  layout:\n    top_bar:\n      items: [hamburger_menu, title \"TRANSCRIPT\", spacer, zoom_out, zoom_in]\n    left_column: dynamic_nodes\n    right_panel: optional_tooltip_popovers\n  animation:\n    node_enter: fade_slide\n    edge_draw: dotted_line_grow\n    tooltip: scale_fade\n\ncomponents:\n  frontend:\n    framework: React 18\n    state_mgmt: Zustand | Redux\n    websocket_client: native | socket.io\n  backend:\n    language: Node.js 20\n    websocket_server: socket.io\n    speech_service_proxy: express\n  nlp_engine:\n    library: spaCy | SudachiPy\n    keyword_model: TfidfVectorizer\n  database:\n    local: IndexedDB\n    cloud_optional: Firestore\n\ndata_flow:\n  - step: \"Mic Stream â†’ STT Engine\"\n  - step: \"STT Result â†’ Sentence Segmentation\"\n  - step: \"Segment â†’ Dependency Analyzer\"\n  - step: \"Analyzed Node â†’ Graph Renderer\"\n  - step: \"UI updates via WebSocket\"\n\nassumptions_and_open_points:\n  - STT ã‚¨ãƒ³ã‚¸ãƒ³ã¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶šå¿…é ˆ\n  - 1æ™‚é–“è¶…ã®é•·æ™‚é–“ã‚»ãƒƒã‚·ãƒ§ãƒ³æ™‚ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¤œè¨¼ãŒæœªå®Ÿæ–½\n  - ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œã¯ Phase-2 ã§æ¤œè¨\n  - OAuth èªè¨¼ã§ãƒãƒ«ãƒãƒ¦ãƒ¼ã‚¶ãƒ¼åˆ¤åˆ¥ã‚’äºˆå®š\n\nroadmap:\n  phase_0_prototype:\n    - éŸ³å£°â†’ãƒ†ã‚­ã‚¹ãƒˆâ†’ãƒãƒ¼ãƒ‰å³æ™‚ç”Ÿæˆ\n    - åŸºæœ¬ã‚ºãƒ¼ãƒ ãƒ»ãƒ‘ãƒ³\n  phase_1_mvp:\n    - ä¾å­˜ç·šã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ  v1\n    - ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ— & ã‚¢ã‚¤ã‚³ãƒ³æ³¨é‡ˆ\n    - PNG/SVG ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ\n  phase_2_productize:\n    - ã‚¯ãƒ©ã‚¦ãƒ‰åŒæœŸ\n    - ãƒãƒ«ãƒãƒ¦ãƒ¼ã‚¶å…±æœ‰ãƒ»ãƒªãƒ—ãƒ¬ã‚¤\n    - ãƒ¢ãƒã‚¤ãƒ«/ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ UI\n\n\n---\n\nUI/UXãƒ‡ã‚¶ã‚¤ãƒ³\n\nui_ux_spec:\n  purpose: >\n    ç™ºè©±ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§æ§‹é€ åˆ†è§£ã—ã¦å¯è¦–åŒ–ã™ã‚‹\n    ã€Œä¼šè©±ãƒ•ãƒ­ãƒ¼ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ©ã‚¤ã‚¶ãƒ¼ã€Web ã‚¢ãƒ—ãƒªã®\n    UI / UX è¦ä»¶å®šç¾©æ›¸ã€‚\n  target_resolution: \"1920x1080\"   # ãƒ•ãƒ«HD åŸºæº–\n  breakpoints:\n    - 1920\n    - 1440\n    - 1280\n    - 768          # ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆç¸¦\n  layout:\n    top_bar:\n      height: 56px\n      background: \"#1c1f23\"\n      elements:\n        - type: icon_button\n          id: hamburger\n          icon: menu\n          position: left\n        - type: label\n          id: title\n          text: \"TRANSCRIPT\"\n          position: left\n          margin_left: 16px\n        - type: flex_spacer\n        - type: icon_button\n          id: zoom_out\n          icon: minus\n          aria_label: \"ã‚ºãƒ¼ãƒ ã‚¢ã‚¦ãƒˆ\"\n        - type: icon_button\n          id: zoom_in\n          icon: plus\n          aria_label: \"ã‚ºãƒ¼ãƒ ã‚¤ãƒ³\"\n    canvas:\n      id: graph_canvas\n      position: absolute\n      top: 56px\n      bottom: 96px    # æ³¢å½¢ãƒãƒ¼åˆ†\n      left: 0\n      right: 0\n      background: \"#121417\"\n      pan: drag\n      zoom:\n        min: 0.1\n        max: 2.0\n        step: 0.1\n    waveform_bar:\n      height: 96px\n      background: \"#121417\"\n      elements:\n        - type: mic_button\n          id: mic_toggle\n          size: 64px\n          position: left\n          states:\n            active: {icon: mic_on, color: \"#3a8cff\"}\n            inactive: {icon: mic_off, color: \"#666\"}\n        - type: waveform_display\n          id: waveform\n          position: fill\n          bar_color: \"#3a8cff\"\n          bar_width: 2px\n          bar_gap: 2px\n  tokens:\n    color:\n      bg_primary: \"#121417\"\n      bg_secondary: \"#1c1f23\"\n      node_bg: \"#2a2d31\"\n      edge: \"#5c6b7a\"\n      edge_dependency: \"#5c6b7a80\"   # 50% Î±\n      accent: \"#3a8cff\"\n      text_primary: \"#e9ecef\"\n      text_secondary: \"#98a0aa\"\n    font:\n      family: \"'Noto Sans JP', sans-serif\"\n      size_base: 14px\n      size_h1: 20px\n      size_node: 16px\n    radius:\n      node: 6px\n      button: 4px\n  components:\n    node_block:\n      shape: rounded_rectangle\n      padding: \"8px 12px\"\n      min_width: 120px\n      background: token.color.node_bg\n      text_style: {color: token.color.text_primary, font_size: token.font.size_node}\n      icon_slot:\n        size: 20px\n        margin_right: 6px\n        default_icons:\n          - id: exclamation\n            svg: \"exclamation-circle\"\n            meaning: \"é‡è¦ãƒã‚¤ãƒ³ãƒˆ\"\n          - id: lightbulb\n            svg: \"lightbulb\"\n            meaning: \"ã‚¢ã‚¤ãƒ‡ã‚¢ãƒ»ææ¡ˆ\"\n      states:\n        hover:\n          border: {color: token.color.accent, width: 1px}\n        selected:\n          shadow: \"0 0 8px #3a8cff80\"\n    edge_line:\n      default:\n        stroke: token.color.edge\n        stroke_width: 1px\n        style: solid\n      dependency:\n        stroke: token.color.edge_dependency\n        stroke_width: 1px\n        style: dotted\n      arrow: false\n    tooltip:\n      trigger: hover_node_or_icon\n      max_width: 260px\n      background: token.color.bg_secondary\n      text_style: {color: token.color.text_primary, font_size: token.font.size_base}\n      pointer: bottom_center\n      animation: fade_in 150ms\n    zoom_controls:\n      placement: top_bar\n      buttons: [zoom_out, zoom_in]\n      tooltip: auto\n    mic_button:\n      states:\n        default: {bg: token.color.node_bg}\n        active:  {bg: token.color.accent}\n        hover:   {bg: \"#3a8cffdd\"}\n  interactions:\n    - name: mic_toggle\n      action: start_stop_recording\n    - name: node_hover\n      action: show_tooltip\n    - name: canvas_drag\n      action: pan_view\n    - name: wheel_scroll\n      action: zoom_view\n    - name: zoom_button_click\n      action: zoom_in_out\n    - name: node_drag\n      action: manual_relayout   # optional (ç·¨é›†ãƒ¢ãƒ¼ãƒ‰)\n  states:\n    recording:\n      mic_button: active\n      waveform_display: visible\n      canvas: accepts_new_nodes\n    paused:\n      mic_button: inactive\n      waveform_display: dimmed\n      canvas: read_only\n    loading:\n      overlay_spinner: true\n    error:\n      mic_permission_denied: show_modal(\"ãƒã‚¤ã‚¯ã®æ¨©é™ãŒã‚ã‚Šã¾ã›ã‚“\")\n  animations:\n    node_spawn: {type: fade_slide_from_left, duration: 200ms}\n    edge_draw: {type: sweep, duration: 200ms}\n    tooltip: {type: fade_scale, duration: 150ms}\n    zoom: {type: smooth, duration: 200ms}\n  accessibility:\n    keyboard_shortcuts:\n      toggle_mic: \"M\"\n      zoom_in: \"+\"\n      zoom_out: \"-\"\n      focus_next_node: \"Tab\"\n    aria_labels:\n      mic_button: \"éŒ²éŸ³é–‹å§‹ï¼åœæ­¢\"\n      zoom_in: \"ã‚ºãƒ¼ãƒ ã‚¤ãƒ³\"\n      zoom_out: \"ã‚ºãƒ¼ãƒ ã‚¢ã‚¦ãƒˆ\"\n    color_contrast: \"WCAG 2.1 AA æº–æ‹ \"\n  localization:\n    default_locale: ja-JP\n    supported_locales: [ja-JP, en-US]\n    i18n_keys:\n      title: \"ui.title.transcript\"\n      zoom_in: \"ui.button.zoom_in\"\n      zoom_out: \"ui.button.zoom_out\"\n  responsive_guidelines:\n    - breakpoint: 1440\n      canvas_padding: 32px\n    - breakpoint: 1280\n      hide_tooltips_by_default: true\n      node_font_size: 14px\n    - breakpoint: 768\n      top_bar_height: 48px\n      waveform_height: 72px\n      node_font_size: 12px\n  open_questions:\n    - ãƒãƒ«ãƒã‚»ãƒ¬ã‚¯ãƒˆç·¨é›†ãƒ¢ãƒ¼ãƒ‰ã®è¦ä¸è¦\n    - è‰²è¦šãƒãƒªã‚¢ãƒ•ãƒªãƒ¼å‘ã‘ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆåˆ‡æ›¿\n    - ãƒ¢ãƒã‚¤ãƒ« UI ã¯ Phase-2 ä»¥é™ã‹ï¼Ÿ\n\n```",
  "requestFramePermissions": [
    "microphone"
  ],
  "name": "App"
}
