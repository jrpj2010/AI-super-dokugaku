# MD Buddy v0.018 要件定義書

## 1. プロジェクト概要

### 1.1 プロジェクト名
MD Buddy - AIパワード音声マークダウンエディター

### 1.2 バージョン
v0.018-stable

### 1.3 目的
音声入力からAIを活用して高品質なマークダウン文書を生成する、非エンジニアでも使いやすいエディターの提供

## 2. 機能要件

### 2.1 音声録音機能
- **リアルタイム音声録音**: Web Audio APIとMediaRecorder APIを使用
- **チャンク録音**: 5分ごとに自動的に音声データを分割処理
- **音声レベルメーター**: リアルタイムで音声レベルを視覚化
- **波形表示**: 美しいグラデーション付き波形ビジュアライゼーション

### 2.2 文字起こし機能
- **リアルタイム文字起こし**: Web Speech APIによる即時変換
- **タイムスタンプ記録**: 各発話セグメントに時間情報を付与
- **Gemini API統合**: 高精度な音声認識とバックアップ処理

### 2.3 字幕生成機能
- **SRT形式対応**: 標準的な字幕フォーマットで出力
- **自動タイミング調整**: 1行30文字、表示時間2-4秒の最適化
- **日本語最適化**: 自然な文節での分割

### 2.4 AI分析・変換機能
- **自動Markdown変換**: 音声内容を構造化されたMarkdownに変換
- **コンテキスト理解**: 会議メモ、議事録、ブログ記事など用途別変換
- **プロンプトカスタマイズ**: 用途に応じた変換設定

### 2.5 ファイル管理
- **3ファイル同時保存**: Markdown、音声(WebM)、字幕(SRT)を一括管理
- **フォルダ構造**: 日時ベースの自動整理
- **エクスプローラー表示**: 直感的なファイル管理UI

### 2.6 ダウンロード機能
- **音声ダウンロード**: WebM形式での保存
- **字幕ダウンロード**: SRT形式での保存
- **Markdownダウンロード**: 編集済み文書の保存

## 3. 非機能要件

### 3.1 パフォーマンス
- ページ読み込み: 3秒以内
- 音声録音開始: 即座に開始
- AI変換: 30秒以内に完了

### 3.2 ユーザビリティ
- 非エンジニア向けの直感的UI
- 日本語完全対応
- エラーメッセージの分かりやすい表示

### 3.3 互換性
- Chrome/Edge/Safari対応
- モバイル対応（レスポンシブデザイン）
- PWA対応準備

### 3.4 セキュリティ
- APIキーの環境変数管理
- HTTPSでの通信
- ローカルストレージの暗号化

## 4. システム要件

### 4.1 クライアント要件
- モダンブラウザ（Chrome 90+, Edge 90+, Safari 14+）
- マイクアクセス許可
- 安定したインターネット接続

### 4.2 開発環境
- Node.js 18+
- pnpm 8+
- Docker（オプション）

## 5. 制約事項

### 5.1 技術的制約
- Web Speech APIは一部ブラウザで制限あり
- 録音時間は最大30分まで
- ファイルサイズは100MBまで

### 5.2 ライセンス
- MITライセンスでのオープンソース公開
- Gemini APIの利用規約に準拠

## 6. 将来の拡張計画

### 6.1 Phase 2（v0.019）
- 話者分離機能
- 複数言語対応
- クラウド同期機能

### 6.2 Phase 3（v0.020）
- リアルタイムコラボレーション
- AI要約機能
- 音声コマンド対応

## 7. 成功基準

### 7.1 定量的指標
- 音声認識精度: 90%以上
- ユーザー満足度: 4.0/5.0以上
- 処理速度: リアルタイムの2倍速以内

### 7.2 定性的指標
- 非エンジニアでも迷わず使える
- 日々の議事録作成が効率化される
- 音声メモから構造化文書への変換が簡単

---

作成日: 2025-01-11
作成者: MD Buddy開発チーム
承認者: 佐藤勝彦様